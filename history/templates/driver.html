{%extends 'base.html' %}

{% block content %}

{% if driver.wiki_url %}
    <h3><a href="{{driver.wiki_url}}">{{driver.name}} {{driver.surname}}</a></h3>
{% else %}
    <h3>{{driver.name}} {{driver.surname}}</h3>
{% endif %}

{% if driver.code %}
    <p>Code: {{driver.code}}</p>
{% endif %}
{% if driver.number %}
    <p>Number: {{driver.number}}</p>
{% endif %}
{% if driver.birthday %}
    <p>Birthday: {{driver.birthday}}</p>
{% endif %}

{% if driver.nationality %}
    <p>Nationality: {{driver.nationality}} </p>
{% endif %}


{% if races_count %}
    <p>Races: {{races_count}}</p>
{% endif %}


{% if highest_position %}
    <p>Highest race finish: {{highest_position.position}} (x {{highest_position.count}})</p>
{% endif %}

{% if highest_grid %}
    <p>Highest grid position: {{highest_grid.grid}} (x {{highest_grid.count}})</p>
{% endif %}


{% if wins %}
    <p>Wins: {{wins}}</p>
{% endif %}
{% if podiums %}
    <p>Podiums: {{podiums}}</p>
{% endif %}

{% if pole_positions %}
    <p>Pole positions: {{pole_positions}}</p>
{% endif %}


{% if first_race %}
    <p>First race: <a href={% url 'history:race_details' pk=first_race.pk %}>{{first_race.year}} {{first_race.name}}</a></p> 
{% endif %}

{% if last_race %}
    <p>First race: <a href={% url 'history:race_details' pk=last_race.pk %}>{{last_race.year}} {{last_race.name}}</a></p> 
{% endif %}

{% if related_drivers %}
<h3>Related drivers:</h3>
<ul>
{% for k in related_drivers %}
    <li>
        <a href= {% url 'history:driver_details' nick=k.nickname %}>
            {{k.name}} {{k.surname}}
        </a>
    </li>
{% endfor %}
</ul>
{%endif%}


{%if teams %}
<h3>Teams:</h3>

<div class="row">
<div class="col">
<table class="table table-hover table-bordered">
    <tr class="table-secondary ">
        <th>Year</th>
        <th>Teams</th>

    </tr>
    {% for year, teams in  teams %}
    <tr>
        <td>
            {{year}}
        </td>
        <td class="p-0"> 
            <ul class="list-group list-group-flush">
                {% for k in teams %}
                    <li class="list-group-item">
                        <a href = {% url 'history:constructor_details' nick=k.nickname %}>{{k.name}}</a> 
                    </li>
                {% endfor %}
            </ul>
        </td>
    </tr>
    {% endfor %}
</table>
</div>
</div>
{% endif %}


{% endblock content %}