{% extends 'base.html' %}



{% load my_tags %}

{% block content %}
<div class="row">
<div class="col">

<h2>Constructors</h2>


<div class="row">
<div class="col">

</div>
</div>


<div class="row">
  <ul class="pagination d-flex flex-wrap justify-content-center">
  {% if letter is none %}
        <li class="page-item active"><a class="page-link" href={% url "history:constructors_list" %}>Current</a></li>
    {% else %}
        <li class="page-item"><a class="page-link" href={% url "history:constructors_list" %}>Current</a></li>
  {% endif %}
  {% for l in surname_letters %}
    {% if l == letter or l|upper == letter %}
        <li class="page-item active"><a class="page-link" href="?letter={{l}}">{{l|upper}}</a></li>
    {% else %}
        <li class="page-item"><a class="page-link" href="?letter={{l}}">{{l|upper}}</a></li>
    {% endif %}
  {% endfor %}
  </ul>
</div>


<div class="row">
{% for constructor in page_obj %}
    <div class="col-12 col-md-6">
        <div class="card m-1">
            <div class="card-body d-flex justify-content-between">
            <h4 class="card-title">{{constructor}}</h4>
            <a href={% url "history:constructor_details" nick=constructor.nickname %} class="btn btn-outline-secondary stretched-link">View</a>
            </div>
        </div>
    </div>
{% endfor %}
</div>



{% if page_obj.paginator and page_obj.paginator.num_pages > 1 %}
    <div class="row">
    <div class="col d-flex justify-content-center my-3">
        <nav aria-label="Page navigation example">
        <ul class="pagination">
            <li class="page-item"><a class="page-link" href="?{% preserve_parameters_url page=1 %}">First</a></li>
            
            {% for i in page_obj.paginator.page_range %}
                {% if i == page_obj.number  %}
                    <li class="page-item active"><a class="page-link" href="?{% preserve_parameters_url page=i %}">{{i}}</a></li>
                {% elif i >= page_obj.number|add:-3 and i <= page_obj.number|add:3%}
                    <li class="page-item"><a class="page-link" href="?{% preserve_parameters_url page=i %}">{{i}}</a></li>
                {% endif %}
            {% endfor %}
            <li class="page-item"><a class="page-link" href="?{% preserve_parameters_url page=page_obj.paginator.num_pages %}">Last</a></li>
        </ul>
        </nav>
    </div>
    </div> 
{% endif %}

</div>
</div>

{% endblock content %}
